{%  extends "base.html" %}
{% block content %}
<div class="hero">
<div class="container text-center margin-top">
    <div class="row align-items-center">
        <div class="col">
            <h1>Edit Hike</h1>
            <h2 class="small-font">Add your changes below</h2>
        </div>
    </div>
</div>
<div>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        {% for message in messages %}
          <div  style="background-color: var(--green)">
            <h4 class="mt-4 text-white text-center">{{ message }} <span class="close-btn" onclick="this.parentElement.style.display='none';">&times;</span></h4>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </div>
<section>
    <div class="form-style">
         <!-- Form to Edit a Hike -->
         <form class="form-sizing" method="POST" action="{{ url_for('edit_hike', hike_id=hike.id) }}">
            <!-- Hike title -->
            <div class="form-group col-12">
                <label class="mb-3 mt-2" for="hike_title">Hike Name</label>
                <input type="text" class="form-control" id="hike_title" name="hike_title" value="{{ hike.hike_title }}"
                    min-length="4" max-length="75" required>
            </div>
            <!-- Image-->
            <div class="form-group col-12">
                <label class="mb-3 mt-2" for="image_url">Image</label>
                <input type="text" name="image_url" id="image_url" value="{{ hike.image_url }}">
            </div>
            <!-- Category -->
            <div class="form-group col-12">
                <label class="mb-3 mt-2" for="category_id">Choose a Category</label>
                <select id="category_id" name="category_id" required>
                    <option value="" disabled>Choose a Category</option>
                    {% for category in categories %}
                        {% if category.id == hike.category_id %}
                            <option value="{{ category.id }}" selected>{{ category.category_name }}</option>
                        {% else %}
                            <option value="{{ category.id }}">{{ category.category_name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <!-- Difficulty-->
            <div class="form-group col-12">
                <label for="difficulty">Choose a difficulty level:</label>
                <select id="difficulty" name="difficulty" required>
                    <option value="{{ hike.difficulty }}">{{ hike.difficulty }}</option>
                    <option value="Beginner">Beginner</option>
                    <option value="Easy">Easy</option>
                    <option value="Moderate">Moderate</option>
                    <option value="Advanced">Advanced</option>
                </select>
            </div>
            <br>
            <!-- Distance-->
            <div class="form-group col-12">
                <label class="mb-3 mt-2" for="distance">Distance(km)</label>
                <input type="number" class="form-control" id="distance" name="distance" value="{{ hike.distance }}"
                    max-length="15" required>
            </div>
            <!-- Elevation-->
            <div class="form-group col-12">
                <label class="mb-3 mt-2" for="elevation">Elevation(m)</label>
                <input type="number" class="form-control" id="elevation" name="elevation" value="{{ hike.elevation }}"
                    max-length="15" required>
            </div>
            <br>
            <!-- Description-->
            <div class="form-group col-12">
                <label class="mb-3 mt-2" for="description">Describe your hike...</label>
                <textarea name="description" id="description" rows="8" cols="52" required>{{ hike.description }}</textarea>
            </div>
            <!-- Submit button -->
            <div class="text-center">
            <button type="submit" class="btn ml-auto mt-3">Update Hike</button>
        </div>
        </form>
    </div>
</section>
</div>
{% endblock %}